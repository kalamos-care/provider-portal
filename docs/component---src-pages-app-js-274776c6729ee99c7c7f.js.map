{"version":3,"sources":["webpack:///./src/components/Status/status.module.css","webpack:///./src/components/Login/login.module.css","webpack:///./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","webpack:///./src/utils/auth.js","webpack:///./src/components/Dashboard/index.js","webpack:///./src/components/AccountSettings/index.js","webpack:///./src/components/RegisterKit/index.js","webpack:///./src/components/Login/index.js","webpack:///./src/components/PrivateRoute.js","webpack:///./src/components/Status/index.js","webpack:///./src/pages/app.js"],"names":["module","exports","_objectDestructuringEmpty","obj","TypeError","isBrowser","window","getUser","localStorage","gatsbyUser","JSON","parse","setUser","user","stringify","isLoggedIn","email","getCurrentUser","Dashboard","Details","name","legalName","RegisterKit","Form","handleSubmit","handleUpdate","className","styles","form","method","onSubmit","event","navigate","type","onChange","value","Login","state","username","password","this","setState","target","preventDefault","console","log","render","e","React","Component","PrivateRoute","component","location","rest","pathname","details","href","onClick","callback","to","status","App","Layout","Status","path","AccountSettings"],"mappings":"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","file":"component---src-pages-app-js-274776c6729ee99c7c7f.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status-module--status--f1PYx\",\"status__text\":\"status-module--status__text--LFoJQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"login-module--form--2Emma\",\"form__label\":\"login-module--form__label--1JUib\",\"form__input\":\"login-module--form__input--1L_Sj\",\"form__button\":\"login-module--form__button--3fy5Z\"};","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","const isBrowser = typeof window !== `undefined`\n\nconst getUser = () =>\n  window.localStorage.gatsbyUser\n    ? JSON.parse(window.localStorage.gatsbyUser)\n    : {}\n\nconst setUser = user => (window.localStorage.gatsbyUser = JSON.stringify(user))\n\nexport const handleLogin = ({ username, password }) => {\n  if (!isBrowser) return false\n\n  if (username === `gatsby` && password === `demo`) {\n    console.log(`Credentials match! Setting the active user.`)\n    return setUser({\n      name: `Jay`,\n      legalName: `Jay Gatsby`,\n      email: `jay@gatsby.org`,\n    })\n  }\n\n  return false\n}\n\nexport const isLoggedIn = () => {\n  if (!isBrowser) return false\n\n  const user = getUser()\n\n  return !!user.email\n}\n\nexport const getCurrentUser = () => isBrowser && getUser()\n\nexport const logout = callback => {\n  if (!isBrowser) return\n\n  console.log(`Ensuring the \\`gatsbyUser\\` property exists.`)\n  setUser({})\n  callback()\n}","import React from \"react\"\nimport styles from \"./dashboard.module.css\"\nimport { getCurrentUser } from \"../../utils/auth\"\n\nconst Dashboard = () => {\n    const { } = getCurrentUser()\n\n    return (\n        <section>\n            <p>Insert practice stats here</p>\n            <h1>10 new patients this week!</h1>\n        </section>\n    )\n}\n\nexport default Dashboard","import React from \"react\"\nimport styles from \"./account-settings.module.css\"\nimport { getCurrentUser } from \"../../utils/auth\"\n\nconst Details = () => {\n  const { name, legalName, email } = getCurrentUser()\n\n  return (\n    <section>\n      <p>\n        This is a client-only route. You can get additional information about a\n        user on the client from this page.\n      </p>\n      <ul>\n        <li>Preferred name: {name}</li>\n        <li>Legal name: {legalName}</li>\n        <li>Email address: {email}</li>\n      </ul>\n    </section>\n  )\n}\n\nexport default Details","import React from \"react\"\nimport styles from \"./register-kit.module.css\"\nimport { getCurrentUser } from \"../../utils/auth\"\n\nconst RegisterKit = () => {\n    //pre-fill registration fields\n    const { } = getCurrentUser()\n\n    return (\n        <section>\n            <p>This would move to the patient app</p>\n            <h1>Insert Registration Form</h1>\n        </section>\n    )\n}\n\nexport default RegisterKit","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport styles from \"./login.module.css\"\nimport { handleLogin, isLoggedIn } from \"../../utils/auth\"\n\n{/* import { navigate } from \"@reach/router\" */ }\n\nconst Form = ({ handleSubmit, handleUpdate }) => {\n    return (\n        <form\n            className={styles.form}\n            method=\"post\"\n            onSubmit={event => {\n                handleSubmit(event)\n                navigate(`/app/profile`)\n            } }\n        >\n            <p className={styles[`form__instructions`]}>\n                For this demo, please log in with the username <code>gatsby</code> and the\n                password <code>demo</code>.\n            </p>\n            <label className={styles[`form__label`]}>\n                Username\n                <input\n                    className={styles[`form__input`]}\n                    type=\"text\"\n                    name=\"username\"\n                    onChange={handleUpdate} />\n            </label>\n            <label className={styles[`form__label`]}>\n                Password\n                <input\n                    className={styles[`form__input`]}\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={handleUpdate} />\n            </label>\n            <input className={styles[`form__button`]} type=\"submit\" value=\"Log In\" />\n        </form>\n    )\n}\n\nclass Login extends React.Component {\n    state = {\n        username: ``,\n        password: ``,\n    }\n\n    handleUpdate(event) {\n        this.setState({\n            [event.target.name]: event.target.value,\n        })\n    }\n\n    handleSubmit(event) {\n        event.preventDefault()\n        handleLogin(this.state)\n    }\n\n    render() {\n        if (isLoggedIn()) {\n            navigate(`/app/dashboard`)\n        }\n\n        return (\n            <Form\n                handleUpdate={e => this.handleUpdate(e)}\n                handleSubmit={e => this.handleSubmit(e)}\n        />\n        )\n    }\n}\n\nexport default Login","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../utils/auth\"\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    // If we’re not logged in, redirect to the home page.\n    navigate(`/app/login`)\n    return null\n  }\n\n  return <Component {...rest} />\n}\n\nPrivateRoute.propTypes = {\n  component: PropTypes.any.isRequired,\n}\n\nexport default PrivateRoute","import React from \"react\"\nimport { Link, navigate } from \"@reach/router\"\nimport { getCurrentUser, isLoggedIn, logout } from \"../../utils/auth\"\nimport styles from \"./status.module.css\"\n\nexport default () => {\n  let details\n  if (!isLoggedIn()) {\n    details = (\n      <p className={styles[`status__text`]}>\n        To get the full app experience, you’ll need to\n        {` `}\n        <Link to=\"/app/login\">log in</Link>.\n      </p>\n    )\n  } else {\n    const { name, email } = getCurrentUser()\n\n    details = (\n      <p className={styles[`status__text`]}>\n        Logged in as {name} ({email}\n        )!\n        {` `}\n        <a\n          href=\"/\"\n          onClick={event => {\n            event.preventDefault()\n            logout(() => navigate(`/app/login`))\n          }}\n        >\n          log out\n        </a>\n      </p>\n    )\n  }\n\n  return <div className={styles.status}>{details}</div>\n}","import React from \"react\"\nimport { Router } from \"@reach/router\"\nimport Layout from \"../components/Layout\"\nimport Dashboard from \"../components/Dashboard\"\nimport AccountSettings from \"../components/AccountSettings\"\nimport RegisterKit from \"../components/RegisterKit\"\nimport Login from \"../components/Login\"\nimport PrivateRoute from \"../components/PrivateRoute\"\nimport Status from \"../components/Status\"\n// import Sidebar from \"../components/Sidebar\"\n\nconst App = () => (\n  <Layout>\n    {/* <Sidebar /> */}\n    <Status />\n    <Router>\n    <PrivateRoute path=\"/app/account-settings\" component={AccountSettings} />\n      <PrivateRoute path=\"/app/dashboard\" component={Dashboard} />\n      <PrivateRoute path=\"/app/register-kit\" component={RegisterKit} />\n      <Login path=\"/app/login\" />\n    </Router>\n  </Layout>\n)\n\nexport default App"],"sourceRoot":""}